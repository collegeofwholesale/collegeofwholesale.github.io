<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>College of Wholesale</title>
  <style>
    /* minimal styles just to keep layout sane */
    :root { --bg:#0f1620; --card:#131b27; --text:#e9eef7; --muted:#9bb0c9; --accent:#2f80ed; }
    *{box-sizing:border-box}
    body{margin:0;font:16px/1.5 system-ui,Segoe UI,Roboto,Arial;color:var(--text);background:var(--bg)}
    a{color:var(--text);text-decoration:none}
    nav{position:sticky;top:0;background:#0e1520;border-bottom:1px solid #1c2736;z-index:10}
    .nav{max-width:1100px;margin:0 auto;display:flex;gap:16px;align-items:center;padding:12px 16px}
    .nav a{padding:6px 10px;border-radius:8px}
    .nav a.active,.btn{background:var(--accent);color:#fff}
    .wrap{max-width:1100px;margin:0 auto;padding:28px 16px}
    h1{font-size:40px;margin:10px 0 16px}
    h2{font-size:28px;margin:24px 0 10px}
    h3{font-size:20px;margin:18px 0 8px}
    .grid{display:grid;gap:16px}
    .grid.about,.grid.quick{grid-template-columns:1fr}
    @media(min-width:900px){ .grid.quick{grid-template-columns:1fr 1fr} }
    .card{background:var(--card);border:1px solid #223044;border-radius:14px;padding:16px}
    label{display:inline-block;min-width:180px}
    input[type="number"], input[type="text"], select{background:#0c121b;border:1px solid #26364c;color:var(--text);padding:8px 10px;border-radius:8px}
    .row{display:flex;gap:10px;align-items:center;margin:6px 0;flex-wrap:wrap}
    .btn{border:0;padding:10px 14px;border-radius:10px;cursor:pointer}
    .btn.secondary{background:#223144}
    .small{color:var(--muted);font-size:13px}
    .hr{height:1px;background:#213044;margin:20px 0}
    .result h2{margin:0}
    ul{margin:8px 0 0 18px}
    li{margin:6px 0}
    .kpi{font-size:28px;font-weight:800;margin:6px 0}
  </style>
</head>
<body>

  <!-- NAV -->
  <nav><div class="nav">
    <strong>College of Wholesale</strong>
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#calc" class="active">Calculator</a>
    <a href="#resources">Resources</a>
    <a href="#notion">Notion Hub</a>
    <a href="#whop">Whop</a>
    <a href="#intern">Internship</a>
    <a href="#contact">Contact</a>
  </div></nav>

  <main class="wrap">

    <!-- HOME (trimmed) -->
    <section id="home" class="page">
      <div class="grid quick">
        <div class="card">
          <h2>Open Notion Hub</h2>
          <p class="small">Your SOPs, trackers, and scripts.</p>
        </div>
        <div class="card">
          <h2>Open Calculator</h2>
          <p class="small">Fast MAO + repair estimator.</p>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="page">
      <h1>About College of Wholesale</h1>
      <div class="grid about">
        <div class="card">
          <h3>Mission & Values</h3>
          <ul>
            <li><strong>Keep it simple:</strong> clear steps, no fluff.</li>
            <li><strong>Win with reps:</strong> daily actions beat “someday.”</li>
            <li><strong>Serve sellers:</strong> solve real problems.</li>
            <li><strong>Track & improve:</strong> metrics → iteration.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- CALCULATOR -->
    <section id="calc" class="page">
      <h1>College of Wholesale Offer Calculator</h1>
      <p class="small">Simple v1: enter ARV + Repairs to get a beginner-friendly MAO and first-offer range.</p>

      <div class="grid quick">
        <!-- Inputs -->
        <div class="card">
          <h3>Inputs</h3>
          <div class="row">
            <label for="v1_arv">After-Repair Value (ARV)</label>
            <input id="v1_arv" type="number" min="0" step="1000" placeholder="e.g., 350000">
          </div>
          <div class="row">
            <label for="v1_repairs">Repairs (total $)</label>
            <input id="v1_repairs" type="number" min="0" step="500" placeholder="e.g., 25000">
          </div>
          <div class="row">
            <label for="v1_disc">Buyer Discount %</label>
            <input id="v1_disc" type="number" min="40" max="90" step="1" value="70">
          </div>
          <div class="row">
            <label for="v1_fee">Your Assignment Fee ($)</label>
            <input id="v1_fee" type="number" min="0" step="500" value="10000">
          </div>
          <div class="row">
            <label for="v1_buf">Holding/Closing Buffer % of ARV</label>
            <input id="v1_buf" type="number" min="0" max="10" step="0.5" value="3">
          </div>
          <p class="small">Tip: <strong>3% is average</strong> — leave 3% unless your buyer prefers different.</p>
          <div class="row" style="gap:8px;margin-top:12px">
            <button id="v1_calc" class="btn">Calculate MAO</button>
            <button id="v1_reset" class="btn secondary">Reset</button>
          </div>
          <p class="small" style="margin-top:8px"><em>Formula: MAO ≈ (ARV × Discount) – Repairs – Your Fee – (ARV × Buffer)</em></p>
        </div>

        <!-- Results -->
        <div class="card result">
          <h3>Results</h3>
          <div class="small">Max Allowable Offer (to seller)</div>
          <div id="v1_mao" class="kpi">$0</div>
          <div class="small">Suggested first-offer range</div>
          <div id="v1_range" class="kpi">$0 – $0</div>
          <div class="hr"></div>
          <h4>Beginner Rules of Thumb</h4>
          <ul class="small" style="margin:0 0 10px">
            <li>Start with 70% rule (editable above).</li>
            <li>Open 5–10% below MAO to leave room.</li>
            <li>Use <strong>2–4% of ARV</strong> for closing/holding buffer (3% is a good default).</li>
          </ul>
        </div>
      </div>

      <!-- Repair Calculator (Option B / state-adjusted) -->
      <div class="card" style="margin-top:18px">
        <h3>Quick Repair Estimator (optional)</h3>
        <p class="small">Fast ballpark using state multipliers. Use it to fill the Repairs box above.</p>

        <div class="row" style="gap:18px;flex-wrap:wrap">
          <div>
            <label for="rc_state">State</label>
            <select id="rc_state"></select>
            <div class="small">Mult: <span id="rc_mult">×1.00</span></div>
          </div>

          <div>
            <label for="rc_sqft">Square Footage</label>
            <input id="rc_sqft" type="number" min="200" step="10" placeholder="e.g., 1400">
          </div>
        </div>

        <div class="row" style="gap:16px;flex-wrap:wrap;margin-top:10px">
          <label><input type="checkbox" id="rc_paint_in"> Interior paint</label>
          <label><input type="checkbox" id="rc_paint_out"> Exterior paint</label>
          <label><input type="checkbox" id="rc_floor"> Flooring</label>
          <label><input type="checkbox" id="rc_roof"> Roof</label>
          <label><input type="checkbox" id="rc_kitchen"> Kitchen refresh</label>
          <label><input type="checkbox" id="rc_bath"> Bath refresh</label>
          <label><input type="checkbox" id="rc_windows"> Windows</label>
          <label><input type="checkbox" id="rc_misc"> Misc/contingency</label>
        </div>

        <div class="row" style="gap:12px;flex-wrap:wrap;margin-top:10px">
          <div>
            <label for="rc_b_qty"># Beds</label>
            <input id="rc_b_qty" type="number" min="0" value="1" style="width:90px">
          </div>
          <div>
            <label for="rc_ba_qty"># Baths</label>
            <input id="rc_ba_qty" type="number" min="0" value="1" style="width:90px">
          </div>
        </div>

        <div class="row" style="gap:8px;margin-top:12px">
          <button id="rc_calc" class="btn">Estimate Repairs</button>
          <button id="rc_reset" class="btn secondary">Reset</button>
          <button id="rc_send" class="btn secondary">Use Latest Repair Total</button>
        </div>

        <div class="hr"></div>
        <div class="row">
          <div class="card" style="flex:1">
            <div class="small">Estimated Repairs</div>
            <div id="rc_total" class="kpi">$0</div>
            <ul id="rc_notes" class="small" style="margin:0">
              <li>No items selected yet.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- RESOURCES -->
    <section id="resources" class="page">
      <h2>Resources</h2>
      <div class="grid about">
        <div class="card"><p class="small">Free beginner wholesaling training assets.</p></div>
      </div>
    </section>

    <!-- NOTION / WHOP / INTERN / CONTACT (placeholders) -->
    <section id="notion" class="page"><h2>Notion Hub</h2></section>
    <section id="whop" class="page"><h2>Whop Membership</h2></section>
    <section id="intern" class="page"><h2>Internship Program</h2></section>
    <section id="contact" class="page"><h2>Contact</h2></section>

  </main>

  <!-- ===== Scripts ===== -->
  <script>
    // Util
    const $ = (q) => document.querySelector(q);
    const money = (n) => isFinite(n) ? n.toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0}) : '$0';
    const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

    /* ---------- Main MAO calc ---------- */
    (function(){
      function calc(){
        const arv = +($("#v1_arv").value||0);
        const repairs = +($("#v1_repairs").value||0);
        const disc = clamp(+( $("#v1_disc").value||70 ), 40, 90)/100;
        const fee  = +($("#v1_fee").value||0);
        const buf  = clamp(+( $("#v1_buf").value||3 ), 0, 10)/100;

        const mao = Math.max(0, (arv * disc) - repairs - fee - (arv * buf));
        const low = Math.max(0, Math.round(mao * 0.90)); // 10% under
        $("#v1_mao").textContent = money(Math.round(mao));
        $("#v1_range").textContent = money(low) + " – " + money(Math.round(mao));
      }
      function reset(){
        $("#v1_arv").value = "";
        $("#v1_repairs").value = "";
        $("#v1_disc").value = 70;
        $("#v1_fee").value = 10000;
        $("#v1_buf").value = 3;
        $("#v1_mao").textContent = "$0";
        $("#v1_range").textContent = "$0 – $0";
      }
      document.addEventListener("DOMContentLoaded", ()=>{
        $("#v1_calc")?.addEventListener("click", calc);
        $("#v1_reset")?.addEventListener("click", reset);
      });
    })();

    /* ---------- Repair Estimator (state-adjusted) ---------- */
    (function(){
      // coarse state multipliers (labor/material deltas)
      const STATE_MULT = {
        AL:0.92, AK:1.30, AZ:1.02, AR:0.99, CA:1.20, CO:1.08, CT:1.12, DE:1.04, FL:1.08,
        GA:0.96, HI:1.40, ID:0.98, IL:1.05, IN:0.93, IA:0.98, KS:0.91, KY:0.98, LA:0.94,
        ME:1.04, MD:1.10, MA:1.18, MI:0.95, MN:1.05, MS:0.92, MO:0.98, MT:0.98, NE:0.96,
        NV:1.02, NH:1.04, NJ:1.18, NM:0.98, NY:1.18, NC:0.98, ND:0.96, OH:0.95, OK:0.92,
        OR:1.06, PA:1.02, RI:1.06, SC:0.96, SD:0.96, TN:0.96, TX:0.98, UT:1.02, VT:1.06,
        VA:1.02, WA:1.10, WV:0.92, WI:0.98, WY:0.96
      };

      // base rates (very beginner-friendly)
      const RATES = {
        paint_in_psf: 1.25,
        paint_out_psf: 1.50,
        floor_psf: 3.50,
        roof_per_sq: 450,        // per roofing "square" (100 SF)
        kitchen_base: 8000,      // light refresh
        kitchen_sf_kicker_per_1000: 500, // add per 1,000 SF
        bath_base: 3500,
        window_each: 450,
        misc_flat: 2000,
        bedroom_paint_add: 150   // doors/closets per bedroom if interior paint selected
      };

      function buildStateDropdown(){
        const sel = $("#rc_state");
        if(!sel) return;
        sel.innerHTML = "";
        Object.keys(STATE_MULT).forEach(ab=>{
          const o = document.createElement('option');
          o.value = ab; o.textContent = ab;
          sel.appendChild(o);
        });
        sel.value = "FL";
        updateMultPill();
      }

      function updateMultPill(){
        const ab = $("#rc_state").value;
        const mult = STATE_MULT[ab] ?? 1.00;
        $("#rc_mult").textContent = `×${mult.toFixed(2)}`;
      }

      function calcRepairs(){
        const sqft = +($("#rc_sqft").value||0);
        if(!sqft || sqft < 200){ alert("Enter square footage (≥200)."); return 0; }
        const mult = STATE_MULT[$("#rc_state").value] ?? 1.00;

        let total = 0; const notes = [];

        function add(label, raw){
          const adj = raw * mult; total += adj;
          notes.push(`${label}: ${money(adj)} (raw ${money(raw)} × ${mult.toFixed(2)})`);
        }

        // Items
        if($("#rc_paint_in").checked){
          let raw = sqft * RATES.paint_in_psf;
          const beds = Math.max(0, +($("#rc_b_qty").value||0));
          raw += beds * RATES.bedroom_paint_add;
          add("Interior paint", raw);
        }
        if($("#rc_paint_out").checked) add("Exterior paint", sqft * RATES.paint_out_psf);
        if($("#rc_floor").checked)    add("Flooring",      sqft * RATES.floor_psf);

        if($("#rc_roof").checked){
          const roofArea = sqft * 1.2; // waste/pitch
          const squares  = roofArea / 100;
          add("Roof", squares * RATES.roof_per_sq);
        }

        if($("#rc_kitchen").checked){
          const k = Math.max(1, +($("#rc_b_qty").value||1));
          const kicker = Math.round((sqft/1000) * RATES.kitchen_sf_kicker_per_1000);
          add(`Kitchen refresh ×${k}`, k * (RATES.kitchen_base + kicker));
        }

        if($("#rc_bath").checked){
          const b = Math.max(1, +($("#rc_ba_qty").value||1));
          add(`Bathroom refresh ×${b}`, b * RATES.bath_base);
        }

        if($("#rc_windows").checked){
          const count = Math.max(1, Math.round(sqft / 200));
          add(`Windows ×${count}`, count * RATES.window_each);
        }

        if($("#rc_misc").checked) add("Misc/contingency", RATES.misc_flat);

        // Output
        $("#rc_total").textContent = money(total);
        const ul = $("#rc_notes"); ul.innerHTML = "";
        if(notes.length){
          notes.forEach(t=>{ const li=document.createElement('li'); li.textContent=t; ul.appendChild(li); });
        }else{
          ul.innerHTML = "<li>No items selected yet.</li>";
        }
        return total;
      }

      function resetRepairs(){
        ["#rc_paint_in","#rc_paint_out","#rc_floor","#rc_roof","#rc_kitchen","#rc_bath","#rc_windows","#rc_misc"]
          .forEach(q=>{ const el=$(q); if(el) el.checked=false; });
        $("#rc_b_qty").value = 1; $("#rc_ba_qty").value = 1;
        $("#rc_total").textContent = "$0";
        $("#rc_notes").innerHTML = "<li>No items selected yet.</li>";
      }

      document.addEventListener("DOMContentLoaded", ()=>{
        buildStateDropdown();
        $("#rc_state").addEventListener("change", updateMultPill);
        $("#rc_calc").addEventListener("click", ()=>{
          const t = calcRepairs();
          if(t>0){
            const repairs = document.getElementById("v1_repairs");
            repairs.value = Math.round(t);
            repairs.dispatchEvent(new Event("input")); // for future hooks
          }
        });
        $("#rc_reset").addEventListener("click", resetRepairs);
        $("#rc_send").addEventListener("click", ()=>{
          const t = +($("#rc_total").textContent.replace(/[^0-9.]/g,"")||0);
          if(t>0){
            const repairs = document.getElementById("v1_repairs");
            repairs.value = Math.round(t);
            repairs.dispatchEvent(new Event("input"));
            window.scrollTo({top:0, behavior:"smooth"});
          }
        });
      });
    })();
  </script>
</body>
</html>
